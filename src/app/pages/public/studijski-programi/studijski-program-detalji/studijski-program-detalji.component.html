<ng-container *ngIf="program">
  <mat-card class="mat-elevation-z4 program-detail-card">
    <mat-card-header>
      <mat-card-title>
        {{ program.naziv }}
      </mat-card-title>
      <mat-card-subtitle>
        Katedra: {{ program.katedra.naziv }}
      </mat-card-subtitle>
    </mat-card-header>

    <mat-card-content>
      <div class="program-info">
        <p *ngIf="program.katedra?.sefKatedre">
          <mat-icon class="icon">person</mat-icon>
          <strong>Rukovodilac smera:</strong>
          {{ program.katedra.sefKatedre.osoba.ime }}
          {{ program.katedra.sefKatedre.osoba.prezime }}
        </p>

        <div class="program-opis">
        <span *ngIf="opis; else nemaOpisa">{{ opis }}</span>
        <ng-template #nemaOpisa><em>Nema opisa.</em></ng-template>
        </div>

        <h3><mat-icon class="icon">menu_book</mat-icon>Predmeti</h3>
        <mat-divider></mat-divider>

      </div>
    </mat-card-content>

    <div *ngIf="realizacijePredmeta?.length; else nemaPredmeta" class="lista-predmeta">
      <mat-list>
        <div>
          <div *ngFor="let r of realizacijePredmeta; let i = index" (click)="toggleDetalji(i)" class="predmet-item">
            <div class="predmet-naziv">
              <mat-icon class="arrow-icon" [ngClass]="{'rotated': otvoreniIndex === i}">expand_more</mat-icon>
              {{ r.predmet.naziv }}
            </div>

            <div *ngIf="otvoreniIndex === i" class="predmet-detalji">
              <p><strong>ESPB:</strong> {{ r.predmet.espb }}</p>
              <p><strong>Predavanja:</strong> {{ r.predmet.brojPredavanja }}</p>
              <p><strong>Ve탑be:</strong> {{ r.predmet.brojVezbi }}</p>
              <p><strong>Semestar:</strong> {{ r.predmet.brojSemestara }}</p>
              <p *ngIf="r.predmet.drugiObliciNastave"><strong>Drugi oblici nastave:</strong> {{ r.predmet.drugiObliciNastave }}</p>
              <p *ngIf="r.predmet.istrazivackiRad"><strong>Istra탑iva훾ki rad:</strong> {{ r.predmet.istrazivackiRad }}</p>
              <p *ngIf="r.predmet.ostaliCasovi"><strong>Ostali 훾asovi:</strong> {{ r.predmet.ostaliCasovi }}</p>
            </div>
          </div>
        </div>
      </mat-list>
    </div>

    <ng-template #nemaPredmeta>
      <p><em>Nema predmeta.</em></p>
    </ng-template>


  </mat-card>
</ng-container>
