<mat-card class="mat-elevation-z4 reader-card" *ngIf="udzbenik">
  <mat-card-header class="header">
    <mat-card-title class="title">{{ udzbenik.naziv }}</mat-card-title>
    <div class="import-dugme" *ngIf="userRoles?.includes('ROLE_SLUZBA')" style="margin: 12px 0;">
      <button mat-flat-button color="accent" (click)="fileInput.click()">Importuj stranice (XML)</button>
      <input #fileInput type="file" hidden accept=".xml" (change)="onFileSelected($event)">
    </div>
    <mat-card-subtitle class="subtitle">
      {{ udzbenik.autor }} â€¢ ISBN: {{ udzbenik.isbn }}
    </mat-card-subtitle>
  </mat-card-header>

  <mat-card-content>
    <div *ngIf="stranice.length > 0" class="reader">
      <div class="page">
        <h3>Stranica {{ stranice[currentPage].brojStranice }}</h3>
        <p>{{ stranice[currentPage].sadrzaj }}</p>
      </div>

      <div class="buttons">
        <button mat-flat-button color="primary" (click)="prevPage()" [disabled]="currentPage === 0">
          â¬… Prethodna
        </button>
        <span class="page-counter">{{ currentPage + 1 }} / {{ stranice.length }}</span>
        <button mat-flat-button color="primary" (click)="nextPage()" [disabled]="currentPage === stranice.length - 1">
          SledeÄ‡a âž¡
        </button>
      </div>
    </div>

    <div *ngIf="stranice.length === 0" class="empty">
      <p>ðŸ“– Ovaj udÅ¾benik nema stranica.</p>
    </div>
  </mat-card-content>
</mat-card>


